"use strict";

require("core-js/modules/web.dom-collections.iterator");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getCustomEmojis = getCustomEmojis;
exports.getCustomEmojiIdsSortedByName = exports.getCustomEmojisByName = exports.getCustomEmojisAsMap = void 0;

var _reselect = require("reselect");

var _helpers = require("../../utils/helpers");

// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.
// See LICENSE.txt for license information.
// @flow
function getCustomEmojis(state
/*: GlobalState*/
)
/*: IDMappedObjects<CustomEmoji>*/
{
  if (state.entities.general.config.EnableCustomEmoji !== 'true') {
    return {};
  }

  return state.entities.emojis.customEmoji;
}

const getCustomEmojisAsMap
/*: (state: GlobalState) => Map<string, CustomEmoji>*/
= (0, _reselect.createSelector)(getCustomEmojis, emojis => {
  const map = new Map();
  Object.keys(emojis).forEach((key
  /*: string*/
  ) => {
    map.set(key, emojis[key]);
  });
  return map;
});
exports.getCustomEmojisAsMap = getCustomEmojisAsMap;
const getCustomEmojisByName
/*: (state: GlobalState) => Map<string, CustomEmoji>*/
= (0, _reselect.createSelector)(getCustomEmojis, (emojis
/*: IDMappedObjects<CustomEmoji>*/
) =>
/*: Map<string, CustomEmoji>*/
{
  const map
  /*: Map<string, CustomEmoji>*/
  = new Map();
  Object.keys(emojis).forEach((key
  /*: string*/
  ) => {
    map.set(emojis[key].name, emojis[key]);
  });
  return map;
});
exports.getCustomEmojisByName = getCustomEmojisByName;
const getCustomEmojiIdsSortedByName
/*: (state: GlobalState) => Array<string>*/
= (0, _helpers.createIdsSelector)(state => state.entities.emojis.customEmoji, (emojis
/*: IDMappedObjects<CustomEmoji>*/
) =>
/*: Array<string>*/
{
  return Object.keys(emojis).sort((a
  /*: string*/
  , b
  /*: string*/
  ) =>
  /*: number*/
  emojis[a].name.localeCompare(emojis[b].name));
});
exports.getCustomEmojiIdsSortedByName = getCustomEmojiIdsSortedByName;