/*:: import type {UserTimezone} from 'types/users';*/
"use strict";

require("core-js/modules/es.string.replace");

require("core-js/modules/es.string.split");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getUserCurrentTimezone = getUserCurrentTimezone;
exports.getTimezoneRegion = getTimezoneRegion;

// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.
// See LICENSE.txt for license information.
// @flow
function getUserCurrentTimezone(userTimezone
/*: UserTimezone*/
)
/*: ?string*/
{
  if (!userTimezone) {
    return null;
  }

  const {
    useAutomaticTimezone,
    automaticTimezone,
    manualTimezone
  } = userTimezone;
  let useAutomatic = useAutomaticTimezone;

  if (typeof useAutomaticTimezone === 'string') {
    useAutomatic = useAutomaticTimezone === 'true';
  }

  if (useAutomatic) {
    return automaticTimezone;
  }

  return manualTimezone;
}

function getTimezoneRegion(timezone
/*: string*/
)
/*: string*/
{
  if (timezone) {
    const split = timezone.split('/');

    if (split.length > 1) {
      return split.pop().replace(/_/g, ' ');
    }
  }

  return timezone;
}